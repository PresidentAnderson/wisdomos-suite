{
  "template_files": {},
  "template_file_provenances": {},
  "alertmanager_config": {
    "route": {
      "receiver": "wisdomos-alerts",
      "group_by": ["grafana_folder", "alertname", "severity"],
      "group_wait": "10s",
      "group_interval": "5m",
      "repeat_interval": "4h",
      "routes": [
        {
          "receiver": "critical-alerts",
          "object_matchers": [
            ["severity", "=", "critical"]
          ],
          "group_wait": "5s",
          "repeat_interval": "30m"
        },
        {
          "receiver": "fulfillment-alerts",
          "object_matchers": [
            ["service", "=~", "fulfillment.*"]
          ],
          "group_wait": "30s",
          "repeat_interval": "2h"
        },
        {
          "receiver": "database-alerts",
          "object_matchers": [
            ["service", "=", "database"]
          ],
          "group_wait": "15s",
          "repeat_interval": "1h"
        },
        {
          "receiver": "grafana-default-email",
          "object_matchers": [
            ["__grafana_autogenerated__", "=", "true"]
          ],
          "routes": [
            {
              "receiver": "grafana-default-email",
              "group_by": ["grafana_folder", "alertname"],
              "object_matchers": [
                ["__grafana_receiver__", "=", "grafana-default-email"]
              ]
            }
          ]
        }
      ]
    },
    "receivers": [
      {
        "name": "wisdomos-alerts",
        "grafana_managed_receiver_configs": [
          {
            "uid": "wisdomos-email-001",
            "name": "WisdomOS Email Alerts",
            "type": "email",
            "disableResolveMessage": false,
            "settings": {
              "addresses": "alerts@wisdomos.com",
              "singleEmail": false
            },
            "secureFields": {}
          }
        ]
      },
      {
        "name": "critical-alerts",
        "grafana_managed_receiver_configs": [
          {
            "uid": "critical-email-001",
            "name": "Critical Email Alerts",
            "type": "email",
            "disableResolveMessage": false,
            "settings": {
              "addresses": "critical@wisdomos.com, oncall@wisdomos.com",
              "singleEmail": false
            },
            "secureFields": {}
          },
          {
            "uid": "critical-slack-001",
            "name": "Critical Slack Alerts",
            "type": "slack",
            "disableResolveMessage": false,
            "settings": {
              "recipient": "#critical-alerts",
              "text": "{{ template \"slack.wisdomos.text\" . }}",
              "title": "ðŸš¨ {{ .GroupLabels.alertname }}"
            },
            "secureSettings": {
              "url": "<SLACK_WEBHOOK_URL>"
            }
          }
        ]
      },
      {
        "name": "fulfillment-alerts",
        "grafana_managed_receiver_configs": [
          {
            "uid": "fulfillment-email-001",
            "name": "Fulfillment Email Alerts",
            "type": "email",
            "disableResolveMessage": false,
            "settings": {
              "addresses": "fulfillment-team@wisdomos.com",
              "singleEmail": true
            },
            "secureFields": {}
          }
        ]
      },
      {
        "name": "database-alerts",
        "grafana_managed_receiver_configs": [
          {
            "uid": "database-email-001",
            "name": "Database Email Alerts",
            "type": "email",
            "disableResolveMessage": false,
            "settings": {
              "addresses": "dba@wisdomos.com",
              "singleEmail": false
            },
            "secureFields": {}
          }
        ]
      },
      {
        "name": "grafana-default-email",
        "grafana_managed_receiver_configs": [
          {
            "uid": "default-email-001",
            "name": "Default Email Receiver",
            "type": "email",
            "disableResolveMessage": false,
            "settings": {
              "addresses": "monitoring@wisdomos.com"
            },
            "secureFields": {}
          }
        ]
      }
    ],
    "templates": [
      {
        "name": "slack.wisdomos.text",
        "template": "{{ range .Alerts }}\n*Alert:* {{ .Labels.alertname }}\n*Severity:* {{ .Labels.severity }}\n*Service:* {{ .Labels.service }}\n*Summary:* {{ .Annotations.summary }}\n*Description:* {{ .Annotations.description }}\n{{ end }}"
      }
    ]
  }
}
