# WisdomOS API Environment Configuration
# Phoenix Transformation System
# Author: Jonathan Anderson <contact@axaiinnovations.com>
# License: PROPRIETARY - All rights reserved.
# Copyright: Â© 2025 AXAI Innovations.

# ========================================
# Application Configuration
# ========================================

NODE_ENV=development
PORT=4000
API_VERSION=1.0.0

# Base URLs
APP_URL=http://localhost:4000
FRONTEND_URL=http://localhost:3000
DOCS_URL=http://localhost:4000/docs

# ========================================
# Database Configuration (Supabase)
# ========================================

# Primary database connection (via connection pooling)
DATABASE_URL="postgresql://user:password@host:port/database?schema=public&pgbouncer=true"

# Direct database connection (for migrations and admin tasks)
DIRECT_DATABASE_URL="postgresql://user:password@host:port/database?schema=public"

# Supabase specific settings
SUPABASE_URL="https://your-project.supabase.co"
SUPABASE_ANON_KEY="your-supabase-anon-key"
SUPABASE_SERVICE_ROLE_KEY="your-supabase-service-role-key"

# ========================================
# Authentication & Security
# ========================================

# JWT Configuration
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
JWT_EXPIRES_IN="7d"
JWT_REFRESH_EXPIRES_IN="30d"

# Cookie settings
COOKIE_DOMAIN="localhost"
COOKIE_SECURE="false"
COOKIE_SAME_SITE="lax"

# Password hashing
BCRYPT_ROUNDS=12

# Rate limiting
THROTTLE_TTL=60000
THROTTLE_LIMIT=100

# ========================================
# Redis Configuration (Caching)
# ========================================

REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""
REDIS_DB=0

# Cache settings
CACHE_TTL=300
CACHE_MAX_ITEMS=1000

# ========================================
# CORS Configuration
# ========================================

CORS_ORIGIN="http://localhost:3000"
CORS_METHODS="GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS"
CORS_CREDENTIALS="true"

# ========================================
# External API Keys
# ========================================

# OpenAI (for AI-powered insights)
OPENAI_API_KEY="your-openai-api-key"
OPENAI_MODEL="gpt-4"

# SendGrid (for email notifications)
SENDGRID_API_KEY="your-sendgrid-api-key"
SENDGRID_FROM_EMAIL="noreply@wisdomos.app"
SENDGRID_FROM_NAME="WisdomOS"

# Twilio (for SMS notifications)
TWILIO_ACCOUNT_SID="your-twilio-account-sid"
TWILIO_AUTH_TOKEN="your-twilio-auth-token"
TWILIO_PHONE_NUMBER="+1234567890"

# Stripe (for payments and subscriptions)
STRIPE_PUBLISHABLE_KEY="pk_test_your-stripe-publishable-key"
STRIPE_SECRET_KEY="sk_test_your-stripe-secret-key"
STRIPE_WEBHOOK_SECRET="whsec_your-stripe-webhook-secret"

# ========================================
# File Storage (AWS S3 or Supabase Storage)
# ========================================

# AWS S3
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="wisdomos-uploads"

# Supabase Storage
SUPABASE_STORAGE_BUCKET="uploads"

# File upload limits
MAX_FILE_SIZE="10MB"
ALLOWED_FILE_TYPES="jpg,jpeg,png,gif,pdf,doc,docx"

# ========================================
# Monitoring & Analytics
# ========================================

# Sentry (Error tracking)
SENTRY_DSN="your-sentry-dsn"
SENTRY_ENVIRONMENT="development"

# Google Analytics
GA_TRACKING_ID="GA-XXXXXXXXX"

# Mixpanel
MIXPANEL_TOKEN="your-mixpanel-token"

# ========================================
# Feature Flags
# ========================================

FEATURE_AI_INSIGHTS="true"
FEATURE_INTEGRATIONS="true"
FEATURE_NOTIFICATIONS="true"
FEATURE_ANALYTICS="true"
FEATURE_SUBSCRIPTIONS="false"

# ========================================
# Background Jobs & Scheduling
# ========================================

# Job processing
QUEUE_REDIS_URL="redis://localhost:6379"
QUEUE_CONCURRENCY=5

# Cron jobs
ENABLE_SCHEDULED_JOBS="true"
DAILY_REMINDERS_TIME="09:00"
WEEKLY_REPORTS_TIME="10:00"
CLEANUP_FREQUENCY="0 2 * * *"

# ========================================
# Development & Debugging
# ========================================

# Logging
LOG_LEVEL="info"
LOG_FORMAT="combined"
ENABLE_REQUEST_LOGGING="true"

# Development tools
ENABLE_SWAGGER="true"
ENABLE_PLAYGROUND="true"
ENABLE_INTROSPECTION="true"

# Database seeding
SEED_DATABASE="false"
SEED_USER_COUNT=10
SEED_TRANSFORMATION_COUNT=50

# ========================================
# Production Overrides
# ========================================

# Set these in production environment
# NODE_ENV=production
# PORT=4000
# DATABASE_URL="your-production-database-url"
# JWT_SECRET="your-production-jwt-secret"
# REDIS_URL="your-production-redis-url"
# SENTRY_DSN="your-production-sentry-dsn"

# Security headers
# COOKIE_SECURE="true"
# CORS_ORIGIN="https://app.wisdomos.com"

# Performance
# CACHE_TTL=3600
# THROTTLE_LIMIT=50